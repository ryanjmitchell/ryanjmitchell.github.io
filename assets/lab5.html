<!DOCTYPE HTML>
<!--
  Story by HTML5 UP
  html5up.net | @ajlkn
  Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <title>Lab 5 - GIS 503</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="assets/leaflet/leaflet.css" />
    <script src="assets/leaflet/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
	<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="assets/js/heatmap.js"></script>
	<script src="assets/js/leaflet-heatmap.js"></script>
	<link rel="stylesheet" href="assets/defaultextent/dist/leaflet.defaultextent.css">
	<script src="assets/defaultextent/dist/leaflet.defaultextent.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    <style >
      #map{
          width: 100%;
          height: 500px;
          background-color: grey;
        }
          #map1{
          width: 100%;
          height: 500px;
          background-color: grey;
        }
    .info {
	    padding: 6px 8px;
	    font: 14px/16px Arial, Helvetica, sans-serif;
	    background: white;
	    background: rgba(255,255,255,1);
	    box-shadow: 0 0 15px rgba(0,0,0,0.2);
	    border-radius: 5px;
		}
	.info h5 {
    margin: 0 0 5px;
    color: #FFA500;
		}
    </style>
  </head>
  <body class="is-preload">

      <!-- US Choropleth -->
          <section class="wrapper style1 align-center">
            <div class="inner">
              <!-- <h1>GIS 503 Lab 3 - Leaflet</h1> -->
              <h2>USA</h2>
            <div id="map"></div>
            <script>
              var layer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', {
	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/attributions">CARTO</a>',
	subdomains: 'abcd',
	maxZoom: 19
                });
              var map = new L.Map("map", {
                  center: new L.LatLng(39.8283, -98.5795),
                  zoom: 4,
                  defaultExtentControl: true
              });
              map.addLayer(layer);
              map.touchZoom.disable();
              map.doubleClickZoom.disable();
              map.scrollWheelZoom.disable();
              map.boxZoom.disable();
              map.keyboard.disable();

			$.getJSON('assets/data/US.json', function(data){
              var datalayer = L.geoJson(data, {
                  color: '#FFA500',
                  opacity: 0.0,
                  weight: 0.5,
                  fillColor: '#FFA500',
                  fillOpacity: 0.5,
              }).addTo(map);
              //datalayer.bringToBack();
            });
              
              var info = L.control();
              info.onAdd = function (map) {
                  this._div = L.DomUtil.create('div', 'info');
                  this.update();
                  return this._div;
              };
              info.update = function (props) {
                  this._div.innerHTML = '<h5>EPA Sites</h5>' + 'TEXT';
              };
              info.addTo(map);
            </script>
          <p>TEXT</p>
      
      <!--HHeat Mao -->
            <div class="inner">
              <h2>HEAT MAP</h2>
            <div id="map1"></div>
            <script>
              var layer1 = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
				attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
					subdomains: 'abcd',
					minZoom: 0,
					maxZoom: 20,
					ext: 'png'
                });
              
              var map1 = new L.Map("map1", {
                  center: new L.LatLng(39.8283, -98.5795),
                  zoom: 4,
                  defaultExtentControl: true
              });
              map1.addLayer(layer1);
              map1.touchZoom.disable();
              map1.doubleClickZoom.disable();
              map1.scrollWheelZoom.disable();
              map1.boxZoom.disable();
              map1.keyboard.disable();
              
              var info = L.control();
              info.onAdd = function (map) {
                  this._div = L.DomUtil.create('div', 'info');
                  this.update();
                  return this._div;
              };
              info.update = function (props) {
                  this._div.innerHTML = '<h5>EPA Sites</h5>' + 'TEXT';
              };
              info.addTo(map1);

              $.getJSON('assets/data/EPA.json', function(data){
              
              var datalayer4 = L.geoJson(data, {
                onEachFeature: function (feature, featurelayer){
                  featurelayer.bindPopup("<p>Facility: "+feature.properties.PRIMARY_NA+"<br>CITY: "+feature.properties.CITY_NAME+" ,"+feature.properties.STATE_CODE+"</p>");
                },
                 pointToLayer: function (feature, latlng) {
                            return L.circleMarker(latlng, {
                                color: 'black',
                                opacity: 0.75,
                                weight: 1,
                                fillColor: '#FF4500',
                                fillOpacity: 0.25,
                                radius: 10,
                            });
                        },
                    });
          });

            </script>
          <p>TEXT</p>

        <!-- Footer -->
          <footer class="wrapper style1 align-center">
            <div class="inner">
              <ul class="icons">
                  <a href="index.html"><span class="icon style2 fas fa-home"></span>
                  <p>Home</p></a>
                <li><a href="https://www.linkedin.com/in/ryanmitchell24" class="icon style2 fa-linkedin" target="_blank"><span class="label">LinkedIn</span></a></li>
                <li><a href="mailto:ryanjmitch@gmail.com?Subject=MSGT Portfolio" class="icon style2 fa-envelope"><span class="label">Email</span></a></li>
              </ul>
              <p>&copy; Ryan Mitchell. Design: <a href="https://html5up.net" target="_blank">Story</a>.</p>
            </div>
          </footer>
      </div>

    <!-- Scripts -->
      <script src="assets/js/jquery.min.js"></script>
      <script src="assets/js/jquery.scrollex.min.js"></script>
      <script src="assets/js/jquery.scrolly.min.js"></script>
      <script src="assets/js/browser.min.js"></script>
      <script src="assets/js/breakpoints.min.js"></script>
      <script src="assets/js/util.js"></script>
      <script src="assets/js/main.js"></script>

  </body>
</html>